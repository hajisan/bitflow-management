<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Front Page</title>
</head>
<body>

<!-- DEBUGGER, hvis siden ikke vises for specifik bruger-rolle -->
<h1>Her skal den dynamiske forside laves til admin, project manager og developer :)</h1>

<div th:if="${error}" class="error" th:text="${error}"></div>
<h1>Velkommen, <span th:text="${user.firstName} + ' ' + ${user.lastName}">Navn</span>!</h1>
<p>Din rolle: <strong th:text="${user.role}">ROLLE</strong></p>

<!-- ADMIN -->
<div th:if="${user.role.name() == 'ADMIN'}">
    <h2>Admin</h2>
    <ul>
        <li><a th:href="@{/users/users}">Se alle brugere</a></li>
        <li><a th:href="@{/users/create}">Opret ny bruger</a></li>
        <li><a th:href="@{/projects/list}">Projekter</a></li> <!-- Viser alle projekter, også duplikater -->
        <li><a th:href="@{/subprojects}">Alle subprojekter</a></li>
        <li><a th:href="@{/projects/create}">Opret nyt projekt</a></li>
    </ul>
</div>

<!-- PROJECT MANAGER -->
<section th:if="${user.role.name() == 'PROJECT_MANAGER'}">
    <h2>Projektleder</h2>

    <section>
        <h3>Egne projekter</h3>
        <p>Se dine aktive og tidligere projekter.</p>
        <a th:href="@{/users/{id}/projects(id=${user.userId})}">Gå til mine projekter</a>
    </section>

    <section>
        <h3>Opret projekt</h3>
        <p>Start et nyt projekt og tildel deltagere.</p>
        <a th:href="@{/projects/create}">Opret nyt projekt</a>
    </section>
</section>


<!-- DEVELOPER -->
<div th:if="${user.role.name() == 'DEVELOPER'}">
    <h2>Udvikler</h2>
    <ul>
        <li><a th:href="@{/projects/list}">Mine opgaver</a></li> <!-- Viser kun brugerens projekter -->

    </ul>
</div>
</body>
</html>