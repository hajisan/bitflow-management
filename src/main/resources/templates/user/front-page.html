<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Forside</title>
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>


<nav class="navbar">
    <div class="navbar-content">
        <div class="navbar-left">
            <img th:src="@{/images/Alpha_Solution_Logo.svg}" alt="Logo" class="logo">
        </div>
        <div class="navbar-center">
            <span class="app-name">BitFlow</span>
        </div>
        <div class="navbar-right">
            <a href="/" class="nav-link">Hjem</a>
            <a href="/login" class="nav-link">Login</a>
        </div>
    </div>
</nav>
  
<!-- uden nav bar -->
<form action="/logout" method="post">
    <button type="submit">Log ud</button>
</form>

<!-- med nav bar -->
<form action="/logout" method="get" style="display:inline;">
    <button type="submit">Log ud</button>
</form>


<!-- Fejlbesked -->
<div th:if="${error}" class="error-section">
    <p th:text="${error}" class="error-message"></p>
</div>

<!-- Overskrift -->
<h1>Velkommen, <span th:text="${session.currentUser.firstName + ' ' + session.currentUser.lastName}">Navn</span>!</h1>
<p>Din rolle: <strong th:text="${session.currentUser.role}">ROLLE</strong></p>

<!-- ADMIN -->
<section th:if="${session.currentUser.role.name() == 'ADMIN'}" class="mini-info">
    <h2>Admin</h2>

    <div><a th:href="@{/users/list}">Se alle brugere</a></div>
    <div><a th:href="@{/users/create}">Opret ny bruger</a></div>
    <div><a th:href="@{/projects/list}">Se alle projekter</a></div>
    <div><a th:href="@{/projects/create}">Opret projekt</a></div>
    <div><a th:href="@{/subprojects/list}">Se alle subprojekter</a></div>
    <div><a th:href="@{/tasks/list}">Se alle tasks</a></div>
    <div><a th:href="@{/subtasks/list}">Se alle subtasks</a></div>
    <div><a th:href="@{/timeentries/list}">Se alle tidsregistreringer</a></div>
</section>

<!-- PROJECT_MANAGER -->
<section th:if="${session.currentUser.role.name() == 'PROJECT_MANAGER'}" class="mini-info">
    <h2>Projektleder</h2>

    <div>
        <h3>Mine projekter</h3>
        <a th:href="@{/users/{id}/projects(id=${session.currentUser.userId})}">Se projekter</a>
    </div>

    <div>
        <h3>Opret projekt</h3>
        <p>Start et nyt projekt og tildel deltagere.</p>
        <a th:href="@{/projects/create}">Opret nyt projekt</a>
    </div>
</section>

<!-- DEVELOPER -->
<section th:if="${session.currentUser.role.name() == 'DEVELOPER'}" class="mini-info">
    <h2>Udvikler</h2>

    <div>
        <h3>Mine projekter</h3>
        <a th:href="@{/users/{id}/projects(id=${session.currentUser.userId})}">
            <button>Se projekter</button>
        </a>
    </div>

    <div>
        <h3>Mine subprojekter</h3>
        <a th:href="@{/users/{id}/subprojects(id=${session.currentUser.userId})}">
            <button>Se subprojekter</button>
        </a>
    </div>

    <div>
        <h3>Mine tasks</h3>
        <a th:href="@{/users/{id}/tasks(id=${session.currentUser.userId})}">
            <button>Se tasks</button>
        </a>
    </div>

    <div>
        <h3>Mine subtasks</h3>
        <a th:href="@{/users/{id}/subtasks(id=${session.currentUser.userId})}">
            <button>Se subtasks</button>
        </a>
    </div>

</section>

</body>
</html>
