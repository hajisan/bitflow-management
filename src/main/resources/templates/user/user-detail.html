<!DOCTYPE html>
<html lang="da" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User-detail</title>
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>

<!-- Navigation -->
<div th:replace="fragments/navbar :: navbar"></div>

<!-- Feedback-beskeder -->
<div th:if="${success}" class="success-section"><p class="success-message" th:text="${success}"></p></div>
<div th:if="${error}" class="error-section"><p class="error-message" th:text="${error}"></p></div>

<!-- Wrapper -->
<section class="dashboard-section">

    <!-- Overskrift + rediger-knap -->
    <div class="list-header">
        <h2 class="section-title">Brugerdetaljer</h2>
        <a th:if="${session.currentUser.role.name() == 'ADMIN'}"
           th:href="@{/users/edit/{id}(id=${user.userId})}" class="btn btn-secondary">
            ✏️ Rediger
        </a>
    </div>

    <!-- Brugerinfo -->
    <div class="details-box">
        <p><strong>ID:</strong> <span th:text="${user.userId}"></span></p>
        <p><strong>Navn:</strong> <span th:text="${user.firstName + ' ' + user.lastName}"></span></p>
        <p><strong>Email:</strong> <span th:text="${user.email}"></span></p>
        <p><strong>Rolle:</strong> <span th:text="${user.role}"></span></p>
    </div>

    <!-- Handlinger -->
    <div class="action-buttons">
        <a th:href="@{/users/{id}/projects(id=${user.userId})}" class="btn btn-secondary">📁 Projekter</a>
        <a th:href="@{/users/{id}/subprojects(id=${user.userId})}" class="btn btn-secondary">🗂️ Subprojekter</a>
        <a th:href="@{/users/{id}/tasks(id=${user.userId})}" class="btn btn-secondary">📝 Tasks</a>
        <a th:href="@{/users/{id}/subtasks(id=${user.userId})}" class="btn btn-secondary">📋 Subtasks</a>
        <a th:href="@{/users/{id}/timeentries(id=${user.userId})}" class="btn btn-secondary">⏱️ Tidsregistreringer</a>
    </div>

    <!-- Navigationsknapper -->
    <div class="fixed-bottom-right">
        <a th:href="@{/users/list}" class="btn btn-secondary">⬅️ Til brugeroversigt</a>
        <a th:href="@{/users/profile}" class="btn btn-secondary">🏠 Dashboard</a>
    </div>

</section>
</body>
</html>