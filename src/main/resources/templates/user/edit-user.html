<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit User</title>
</head>
<body>
<h1>Rediger bruger</h1>

<!-- Fejl-/succesbesked -->
<section th:if="${error}" class="error-section">
    <p th:text="${error}" class="error-message"></p>
</section>
<section th:if="${success}" class="success-section">
    <p th:text="${success}" class="success-message"></p>
</section>

<!-- Formular til redigering -->
<section class="form-actions">
    <form th:action="@{/users/update}" th:object="${userUpdateDTO}" method="post" class="edit-form">

        <input type="hidden" th:field="*{userId}"/>

        <div>
            <label for="firstName">Fornavn:</label>
            <input type="text" id="firstName" th:field="*{firstName}" required/>
        </div>

        <div>
            <label for="lastName">Efternavn:</label>
            <input type="text" id="lastName" th:field="*{lastName}" required/>
        </div>

        <div>
            <label for="email">E-mail:</label>
            <input type="email" id="email" th:field="*{email}" required/>
        </div>

        <div>
            <label for="password">Adgangskode (valgfrit):</label>
            <input type="password" id="password" th:field="*{password}"/>
        </div>

        <div>
            <label for="role">Rolle:</label>
            <select id="role" th:field="*{role}">
                <option value="ADMIN">Admin</option>
                <option value="PROJECT_MANAGER">Projektleder</option>
                <option value="DEVELOPER">Udvikler</option>
            </select>
        </div>

        <div>
            <button type="submit">Opdater bruger</button>
        </div>
    </form>
</section>

<!-- Slet bruger -->
<section class="form-actions">
    <form th:action="@{/users/delete/{id}(id=${userUpdateDTO.userId})}" method="post"
          onsubmit="return confirm('Er du sikker pÃ¥, at du vil slette denne bruger?');">
        <button type="submit">Slet bruger</button>
    </form>
</section>


<!-- Navigation -->
<section class="navigation">

    <div>
        <a th:href="@{/users/{id}(id=${userUpdateDTO.userId})}">
            <button>Tilbage til detaljer</button>
        </a>
    </div>

    <div>
        <a th:href="@{/users/users}">
            <button>Tilbage til alle brugere</button>
        </a>
    </div>

    <div>
        <a th:href="@{/users/profile}">
            <button>Tilbage til forside</button>
        </a>
    </div>

</section>
</body>
</html>
