<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <title>Project Detail</title>
</head>
<body>

<h1>Projektets Detaljer</h1>

<!-- Fejlbesked -->
<section th:if="${error}" class="error-section">
  <p th:text="${error}" class="error-message"></p>
</section>

<!-- Projektinformation -->
<section class="details-grid">
  <div>Navn:</div>
  <div th:text="${project.name}"></div>

  <div>Beskrivelse:</div>
  <div th:text="${project.description}"></div>

  <div>Deadline:</div>
  <div th:text="${project.deadline}"></div>

  <div>Estimeret tidsforbrug:</div>
  <div th:text="${project.estimatedTime}"></div>

  <div>Aktuelle tidsforbrug:</div>
  <div th:text="${project.timeSpent}"></div>

  <div>Status:</div>
  <div th:text="${project.status}"></div>
</section>

<!-- Projektstyring -->

  <!-- Rediger projekt - er kun for projektleder og admin: edit-project.html -->
<section class="form-actions">
  <div th:if="${session.currentUser.role.name() == 'PROJECT_MANAGER' or session.currentUser.role.name() == 'ADMIN'}">
    <a th:href="@{/projects/edit/{projectId}(projectId=${project.projectId})}">
      <button>Rediger</button>
    </a>
  </div>
</section>


<!-- Navigation -->
<section class="navigation">

  <!-- Vis tilknyttede brugere er for alle: project-with-users.html -->
  <div>
    <a th:href="@{/projects/{projectId}/users(projectId=${project.projectId})}">
      <button>Se tilknyttede brugere</button>
    </a>
  </div>

  <!-- Vis tilknyttede subprojekter er for alle: project-with-subproject.html -->
  <div>
    <a th:href="@{/projects/{projectId}/subprojects(projectId=${project.projectId})}">
      <button>Se tilknyttede subprojekter</button>
    </a>
  </div>

  <!-- Fuld projektliste er kun for admin: project-list.html -->
  <div th:if="${session.currentUser.role.name() == 'ADMIN'}">
    <a th:href="@{/projects/list}">
      <button>Tilbage til projektliste</button>
    </a>
  </div>

  <!-- Profilside er for alle: front-page.html -->
  <div>
    <a th:href="@{/users/profile}">
      <button>Tilbage til forside</button>
    </a>
  </div>

</section>

</body>
</html>
