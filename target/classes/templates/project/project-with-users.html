<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Project With Users</title>
</head>
<body>


<h1>Projektbeskrivelse</h1>

<p>ID: <span th:text="${projectWithUsers.project.projectId}"></span></p>
<p>Navn: <span th:text="${projectWithUsers.project.name}"></span></p>
<p>Beskrivelse: <span th:text="${projectWithUsers.project.description}"></span></p>
<p>Deadline: <span th:text="${projectWithUsers.project.deadline}"></span></p>
<p>Status: <span th:text="${projectWithUsers.project.status}"></span></p>

<h2>Brugere tilknyttet projektet</h2>

<!-- Hvis listen ikke er tom -->
<p>Brugere:</p>
<ul th:if="${!#lists.isEmpty(projectWithUsers.userViewDTOList)}">
  <li th:each="user : ${projectWithUsers.userViewDTOList}">
    <span th:text="${user.firstName + ' ' + user.lastName + ' (' + user.role + ')'}"></span>
  </li>
</ul>

<!-- Hvis listen er tom -->
<p th:if="${#lists.isEmpty(projectWithUsers.userViewDTOList)}">
  Der er ingen brugere tilknyttet dette projekt.
</p>

<h3>Tildel bruger(e) til projekt</h3>

<form th:action="@{'/projects/' + ${projectWithUsers.project.projectId} + '/assignusers'}" method="post">
    <label for="user-select">Vælg én eller flere brugere:</label><br/>
    <select id="user-select" name="userIds" multiple size="5">
        <option th:each="user : ${unassignedUsers}"
                th:value="${user.userId}"
                th:text="${user.firstName + ' ' + user.lastName + ' (' + user.role + ')'}">
        </option>
    </select>
    <br/><br/>
    <button type="submit">Tildel valgte brugere</button>
</form>



<a th:href="@{/projects/list}">Tilbage til projektoversigt</a>
</body>
</html>