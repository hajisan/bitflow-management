<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Tidsregistrering Detaljer</title>
</head>
<body>

<h1>Detaljer for tidsregistrering</h1>

<!-- Fejlbesked -->
<section th:if="${error}" class="error-section">
    <p th:text="${error}" class="error-message"></p>
</section>

<!-- Viser detaljer om tidsregistrering -->
<section class="details-grid">
    <div>ID: <span th:text="${timeentry.timeId}"></span></div>
    <div>Bruger ID: <span th:text="${timeentry.userId}"></span></div>
    <div>Opgave ID: <span th:text="${timeentry.taskId}"></span></div>
    <div>Underopgave ID: <span th:text="${timeentry.subTaskId}"></span></div>
    <div>Timer brugt: <span th:text="${timeentry.hoursSpent}"></span> timer</div>
    <div>Dato: <span th:text="${timeentry.date}"></span></div>
</section>

<!-- Rediger timeentry (tilgÃ¦ngelig for alle) -->
<section class="form-actions">
    <div>
        <a th:href="@{/timeentries/edit/{id}(id=${timeentry.timeId})}">
            <button>Rediger tidsregistrering</button>
        </a>
    </div>
</section>

<!-- Navigation -->
<section class="navigation">

    <!-- Tilbage til opgavens eller underopgavens timeentries -->
    <div th:if="${timeentry.subTaskId != null}">
        <a th:href="@{/subtask/{id}/timeentries(id=${timeentry.subTaskId})}">
            <button>Tilbage til underopgavens tidsregistreringer</button>
        </a>
    </div>

    <div th:if="${timeentry.subTaskId == null}">
        <a th:href="@{/tasks/{id}/timeentries(id=${timeentry.taskId})}">
            <button>Tilbage til opgavens tidsregistreringer</button>
        </a>
    </div>

    <!-- Tilbage til oversigt over timeentry-list.html (kun for admin) -->
    <div th:if="${session.currentUser.role.name() == 'ADMIN'}">
        <a th:href="@{/timeentries/list}">
            <button>Tilbage til alle tidsregistreringer</button>
        </a>
    </div>

    <!-- Tilbage til forside -->
    <div>
        <a th:href="@{/users/profile}">
            <button>Tilbage til forside</button>
        </a>
    </div>

</section>

</body>
</html>
